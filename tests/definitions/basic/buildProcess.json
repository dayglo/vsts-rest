{
  "phases": [
    {
      "steps": [
        {
          "environment": {},
          "enabled": true,
          "continueOnError": false,
          "alwaysRun": false,
          "displayName": "Run dir",
          "timeoutInMinutes": 0,
          "condition": "succeeded()",
          "refName": "",
          "task": {
            "id": "d9bafed4-0b18-4f58-968d-86655b4d2ce9",
            "versionSpec": "1.*",
            "definitionType": "task"
          },
          "inputs": {
            "filename": "dir",
            "arguments": "",
            "workingFolder": "",
            "failOnStandardError": "false"
          }
        },
        {
          "environment": {},
          "enabled": true,
          "continueOnError": false,
          "alwaysRun": false,
          "displayName": "Archive $(Build.SourcesDirectory)",
          "timeoutInMinutes": 0,
          "condition": "succeeded()",
          "refName": "",
          "task": {
            "id": "d8b84976-e99a-4b86-b885-4849694435b0",
            "versionSpec": "2.*",
            "definitionType": "task"
          },
          "inputs": {
            "rootFolderOrFile": "$(Build.SourcesDirectory)",
            "includeRootFolder": "false",
            "archiveType": "zip",
            "tarCompression": "gz",
            "archiveFile": "package.zip",
            "replaceExistingArchive": "true"
          }
        },
        {
          "environment": {},
          "enabled": true,
          "continueOnError": false,
          "alwaysRun": false,
          "displayName": "Run dir",
          "timeoutInMinutes": 0,
          "condition": "succeeded()",
          "refName": "",
          "task": {
            "id": "d9bafed4-0b18-4f58-968d-86655b4d2ce9",
            "versionSpec": "1.*",
            "definitionType": "task"
          },
          "inputs": {
            "filename": "dir",
            "arguments": "",
            "workingFolder": "",
            "failOnStandardError": "false"
          }
        },
        {
          "environment": {},
          "enabled": true,
          "continueOnError": false,
          "alwaysRun": false,
          "displayName": "Publish Artifact: package.zip",
          "timeoutInMinutes": 0,
          "condition": "succeeded()",
          "refName": "",
          "task": {
            "id": "2ff763a7-ce83-4e1f-bc89-0ae63477cebe",
            "versionSpec": "1.*",
            "definitionType": "task"
          },
          "inputs": {
            "PathtoPublish": "package.zip",
            "ArtifactName": "package.zip",
            "ArtifactType": "Container",
            "TargetPath": "\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)",
            "Parallel": "false",
            "ParallelCount": "8"
          }
        },
        {
          "environment": {},
          "enabled": true,
          "continueOnError": false,
          "alwaysRun": false,
          "displayName": "Publish Artifact: install.sh",
          "timeoutInMinutes": 0,
          "condition": "succeeded()",
          "refName": "",
          "task": {
            "id": "2ff763a7-ce83-4e1f-bc89-0ae63477cebe",
            "versionSpec": "1.*",
            "definitionType": "task"
          },
          "inputs": {
            "PathtoPublish": "install.sh",
            "ArtifactName": "install.sh",
            "ArtifactType": "Container",
            "TargetPath": "\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)",
            "Parallel": "false",
            "ParallelCount": "8"
          }
        }
      ],
      "name": "Build zip and publish",
      "condition": "succeeded()",
      "target": {
        "executionOptions": {
          "type": 0
        },
        "allowScriptsAuthAccessOption": false,
        "type": 1
      },
      "jobAuthorizationScope": "projectCollection",
      "jobCancelTimeoutInMinutes": 1
    }
  ],
  "type": 1
}